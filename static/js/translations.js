const translations = {
    en: {
        // Navbar
        dashboard: 'Dashboard',
        pos: 'Point of Sale',
        inventory: 'Inventory',
        reports: 'Reports',
        users: 'Users',
        settings: 'Settings',
        logout: 'Logout',
        
        // Dashboard
        daily_summary: 'Daily Sales Summary',
        daily_income: 'Daily Income',
        sales_made: 'Sales Made',
        subtotal: 'Subtotal',
        vat_collected: 'VAT Collected',
        today_sales: "Today's Sales",
        top_products: 'Top Selling Products',
        invoice: 'Invoice',
        time: 'Time',
        cashier: 'Cashier',
        total: 'Total',
        method: 'Method',
        quick_actions: 'Quick Actions',
        new_sale: 'New Sale',
        add_product: 'Add Product',
        view_reports: 'View Reports',
        no_sales: 'No sales recorded today',
        loading: 'Loading...',
        sold: 'sold',
        
        // POS
        scan_product: 'Scan or enter barcode',
        cart: 'Shopping Cart',
        empty_cart: 'Cart is empty',
        scan_to_start: 'Scan a product to start',
        payment_method: 'Payment Method',
        cash: 'Cash',
        card: 'Card',
        transfer: 'Transfer',
        vat: 'VAT',
        process_sale: 'Process Sale',
        cancel: 'Cancel',
        clear: 'Clear',
        confirm_sale: 'Confirm sale?',
        processing: 'Processing...',
        sale_success: 'Sale Completed!',
        new_sale_btn: 'New Sale',
        product_not_found: 'Product not found',
        out_of_stock: 'Out of stock',
        insufficient_stock: 'Insufficient stock',
        
        // Inventory
        product_list: 'Product List',
        search_products: 'Search products...',
        barcode: 'Barcode',
        name: 'Name',
        price: 'Price',
        cost: 'Cost',
        stock: 'Stock',
        category: 'Category',
        actions: 'Actions',
        add_new_product: 'Add New Product',
        edit_product: 'Edit Product',
        delete_product: 'Delete Product',
        confirm_delete: 'Are you sure you want to delete this product?',
        save: 'Save',
        description: 'Description',
        
        // Reports
        sales_report: 'Sales Report',
        date_range: 'Date Range',
        from: 'From',
        to: 'To',
        generate_report: 'Generate Report',
        export_csv: 'Export CSV',
        total_sales: 'Total Sales',
        total_income: 'Total Income',
        total_vat: 'Total VAT',
        
        // Users
        user_management: 'User Management',
        username: 'Username',
        password: 'Password',
        role: 'Role',
        full_name: 'Full Name',
        status: 'Status',
        admin: 'Admin',
        active: 'Active',
        inactive: 'Inactive',
        add_user: 'Add User',
        edit_user: 'Edit User',
        
        // Settings
        tax_settings: 'Tax Settings',
        vat_10: 'VAT (10%)',
        vat_description: 'Enable or disable VAT on all sales',
        vat_enabled: 'VAT is ENABLED - 10% will be added to all sales',
        vat_disabled: 'VAT is DISABLED - No tax will be added'
    },
    es: {
        // Navbar
        dashboard: 'Panel',
        pos: 'Punto de Venta',
        inventory: 'Inventario',
        reports: 'Reportes',
        users: 'Usuarios',
        settings: 'Configuración',
        logout: 'Salir',
        
        // Dashboard
        daily_summary: 'Resumen de Ventas del Día',
        daily_income: 'Ingresos del Día',
        sales_made: 'Ventas Realizadas',
        subtotal: 'Subtotal',
        vat_collected: 'VAT Recaudado',
        today_sales: 'Ventas de Hoy',
        top_products: 'Productos Más Vendidos',
        invoice: 'Factura',
        time: 'Hora',
        cashier: 'Cajero',
        total: 'Total',
        method: 'Método',
        quick_actions: 'Acciones Rápidas',
        new_sale: 'Nueva Venta',
        add_product: 'Agregar Producto',
        view_reports: 'Ver Reportes',
        no_sales: 'No hay ventas registradas hoy',
        loading: 'Cargando...',
        sold: 'vendidos',
        
        // POS
        scan_product: 'Escanear o ingresar código',
        cart: 'Carrito de Compras',
        empty_cart: 'Carrito vacío',
        scan_to_start: 'Escanee un producto para comenzar',
        payment_method: 'Método de Pago',
        cash: 'Efectivo',
        card: 'Tarjeta',
        transfer: 'Transferencia',
        vat: 'VAT',
        process_sale: 'Procesar Venta',
        cancel: 'Cancelar',
        clear: 'Limpiar',
        confirm_sale: '¿Confirmar venta?',
        processing: 'Procesando...',
        sale_success: '¡Venta Completada!',
        new_sale_btn: 'Nueva Venta',
        product_not_found: 'Producto no encontrado',
        out_of_stock: 'Sin stock',
        insufficient_stock: 'Stock insuficiente',
        
        // Inventory
        product_list: 'Lista de Productos',
        search_products: 'Buscar productos...',
        barcode: 'Código de Barras',
        name: 'Nombre',
        price: 'Precio',
        cost: 'Costo',
        stock: 'Stock',
        category: 'Categoría',
        actions: 'Acciones',
        add_new_product: 'Agregar Nuevo Producto',
        edit_product: 'Editar Producto',
        delete_product: 'Eliminar Producto',
        confirm_delete: '¿Está seguro de eliminar este producto?',
        save: 'Guardar',
        description: 'Descripción',
        
        // Reports
        sales_report: 'Reporte de Ventas',
        date_range: 'Rango de Fechas',
        from: 'Desde',
        to: 'Hasta',
        generate_report: 'Generar Reporte',
        export_csv: 'Exportar CSV',
        total_sales: 'Total Ventas',
        total_income: 'Total Ingresos',
        total_vat: 'Total VAT',
        
        // Users
        user_management: 'Gestión de Usuarios',
        username: 'Usuario',
        password: 'Contraseña',
        role: 'Rol',
        full_name: 'Nombre Completo',
        status: 'Estado',
        admin: 'Administrador',
        active: 'Activo',
        inactive: 'Inactivo',
        add_user: 'Agregar Usuario',
        edit_user: 'Editar Usuario',
        
        // Settings
        tax_settings: 'Configuración de Impuestos',
        vat_10: 'VAT (10%)',
        vat_description: 'Activar o desactivar VAT en todas las ventas',
        vat_enabled: 'VAT está ACTIVADO - 10% se agregará a todas las ventas',
        vat_disabled: 'VAT está DESACTIVADO - No se agregará impuesto'
    }
};

function applyTranslations(lang) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
            el.placeholder = translations[lang][key];
        }
    });
}

function t(key) {
    const lang = localStorage.getItem('language') || 'en';
    return translations[lang][key] || key;
}

// Auto-apply on load
document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('language') || 'en';
    applyTranslations(lang);
});
